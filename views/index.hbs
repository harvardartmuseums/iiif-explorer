<h1>{{title}}</h1>

<div id="sticker-panel">
	<input type="text" id="term">
	<button id="go">Go</button>
	<div id="results"></div>
</div>

<script type="text/javascript">
	$("#go").click(fetchTermImages);

	$("#term").keypress(function(event) {
		if ( event.which == 13 ) {
	 		fetchTermImages();
	 	}
	 });

	function fetchTermImages() {
		var searchTerm = $("#term").val();

		$.get("/data/terms/" + searchTerm, function (data) {
			if (data.length > 0) {
				var container = $("<div/>").attr("id", "");

				container.append($("<h1/>").html(searchTerm));

				data.forEach(function(d) {
					container.append($("<img/>")
						.attr("src", d.iiifTextImageURL)
						.attr("class", "draggable"));
				});

				$("#results").prepend(container);
			}
			interact('.draggable').draggable({onmove: dragMoveListener});
		});
	}

</script>